services:
  agent-a:
    build: .
    container_name: zerogo-agent-a
    cap_add:
      - NET_ADMIN
    volumes:
      - ./test-data/agent-a:/etc/zerogo
    entrypoint: ["sleep", "infinity"]
    networks:
      zerogo-net:
        ipv4_address: 172.28.0.10

  agent-b:
    build: .
    container_name: zerogo-agent-b
    cap_add:
      - NET_ADMIN
    volumes:
      - ./test-data/agent-b:/etc/zerogo
    entrypoint: ["sleep", "infinity"]
    networks:
      zerogo-net:
        ipv4_address: 172.28.0.11

networks:
  zerogo-net:
    driver: bridge
    ipam:
      config:
        - subnet: 172.28.0.0/24
